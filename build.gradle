plugins {
  id 'org.jetbrains.intellij' version "0.3.11"
}
repositories {
  mavenCentral()
}
allprojects {
  version 0.01

  apply plugin: 'java'
  sourceCompatibility = 1.8
  targetCompatibility = 1.8

  sourceSets {
    main {
      java.srcDirs 'main/src'
      resources.srcDirs 'main/resources'
    }
    test {
      java.srcDir 'tests/src'
      resources.srcDirs 'tests/testData'
    }
  }
  apply plugin: 'org.jetbrains.intellij'
  intellij {
    pluginName 'multi-bnf'
    version 'IC-173.4301.14'
    type 'IC'
    plugins 'org.jetbrains.idea.grammar:2017.1.5'
  }

  patchPluginXml {
    sinceBuild '173'
    untilBuild '193'
  }

  apply plugin: 'idea'
 
}

publishPlugin {
  username project.properties.get("publish.user")
  password project.properties.get("publish.password")
  channels project.properties.get("publish.channel") ?: "Stable"
}
